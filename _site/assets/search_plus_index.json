{"/pages/installation/": {
    "title": "âš“å®‰è£…",
    "keywords": "Jekyll",
    "url": "/pages/installation/",
    "body": "aomaker å·²ä¸Šä¼ åˆ°pypi ï¼Œæ‰€ä»¥å®‰è£…éå¸¸ç®€å•ã€‚ ç¬¬ä¸€æ¬¡å®‰è£… pip install aomaker å®‰è£…æœ€æ–°ç‰ˆæœ¬ pip install -U aomaker æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ ç›´æ¥å‘½ä»¤è¡Œè¾“å…¥aomaker aomaker èƒ½çœ‹åˆ°aomaker logoå³å®‰è£…æˆåŠŸã€‚"
  },"/pages/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/": {
    "title": "âœˆï¸å¿«é€Ÿå¼€å§‹",
    "keywords": "Jekyll",
    "url": "/pages/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/",
    "body": "åˆ›å»ºé¡¹ç›® åœ¨å‘½ä»¤è¡Œè¾“å…¥aomaker startproject projectnameå³å¯ã€‚ é¡¹ç›®ç»“æ„ apisï¼šæ¥å£å±‚ï¼Œå­˜æ”¾æ¥å£æ–‡ä»¶ conf config.yamlï¼šé…ç½®æ–‡ä»¶ï¼Œå¦‚ç¯å¢ƒã€è´¦æˆ·ã€æ•°æ®åº“è¿æ¥ã€å…¨å±€å˜é‡ç­‰ä¿¡æ¯ utils.yamlï¼šå·¥å…·é…ç½®ï¼Œå¦‚ä¼ä¸šå¾®ä¿¡webhooké…ç½® data api _dataï¼šå•æ¥å£ç”¨ä¾‹æµ‹è¯•æ•°æ® scenario_dataï¼šåœºæ™¯ç”¨ä¾‹æµ‹è¯•æ•°æ® database aomaker.dbï¼š å…¨å±€å˜é‡å’Œä¾èµ–å˜é‡å­˜å‚¨åº“ logsï¼šæ—¥å¿—å­˜æ”¾ reportsï¼šæµ‹è¯•æŠ¥å‘Š testcases test_apiï¼šå•æ¥å£ç”¨ä¾‹æ–‡ä»¶ test_scenarioï¼šåœºæ™¯ç”¨ä¾‹æ–‡ä»¶ yamlcaseï¼šyamlè‡ªåŠ¨è½¬ä»£ç  conftest.pyï¼špytestæ’ä»¶æ³¨å†Œ login.pyï¼šç™»å½•é…ç½® pytest.iniï¼špytesté…ç½®æ–‡ä»¶ run.pyï¼šé¡¹ç›®ä¸»å¯åŠ¨æ–‡ä»¶ ä¿®æ”¹é…ç½®æ–‡ä»¶ conf/config.yaml # å½“å‰è¿è¡Œç¯å¢ƒ env: test # testç¯å¢ƒé…ç½® test: account: pwd: 123456 user: aomaker002 host: http://test.aomaker.com # releaseç¯å¢ƒé…ç½® release: account: pwd: 123456 user: aomaker001 host: http://release.aomaker.com åœ¨è¿™é‡Œéœ€è¦é…ç½®å¥½é¡¹ç›®çš„ç¯å¢ƒä¿¡æ¯ï¼Œä¸Šè¿°ç¤ºä¾‹æ˜¯æœ€åŸºç¡€çš„é…ç½®ï¼Œå¦‚æœæœ‰å…¶å®ƒé…ç½®ï¼Œç›´æ¥åœ¨å¯¹åº”ç¯å¢ƒä¸‹åŠ é”®å€¼å¯¹å³å¯ã€‚ æ³¨ï¼šaccount å’Œhost æ˜¯æœ€åŸºç¡€çš„é…ç½®ï¼Œè¯·ä¸è¦æ›´æ”¹key çš„åå­—ã€‚ é…ç½®ç™»å½• å…³äºç™»å½•å’Œè¯·æ±‚å¤´é‰´æƒçš„å¤„ç†ï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„login.pyæ¨¡å—ä¸‹é…ç½®å¤„ç†ï¼Œlogin.pyæ¨¡å—ä¸‹é¢„ç½®äº†ä¸€ä¸ªLoginçš„classå’Œä¸¤ä¸ªæ–¹æ³•ï¼šloginå’Œmake_headers login.py from requests import request from aomaker.fixture import BaseLogin class Login(BaseLogin): def login(self): resp_login = {} return resp_login def make_headers(self, resp_login): headers = { 'Cookie': f'csrftoken=aomakerniubility'} return headers éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢æ˜¯ä¸€ä¸ªåŸºç¡€æ¨¡æ¿ï¼Œloginå’Œmake_headersä¸¤ä¸ªæ–¹æ³•å¿…é¡»å®ç°ï¼Œä½ éœ€è¦æ”¹çš„æ˜¯ä¸¤ä¸ªæ–¹æ³•å†…çš„å†…éƒ¨é€»è¾‘ï¼Œå³loginæ–¹æ³• éœ€è¦æ„é€ ç™»å½•ï¼Œå¹¶returnç™»å½•æ¥å£çš„å“åº”ï¼›make_headersæ–¹æ³•éœ€è¦æ„é€ é‰´æƒæ‰€éœ€è¦çš„å¤´éƒ¨ä¿¡æ¯ã€‚ æ­¤å¤–ï¼ŒBaseLoginä¸­è¯»å–äº†config.yamlé…ç½®æ–‡ä»¶ä¸­çš„ç¯å¢ƒä¿¡æ¯ã€è´¦æˆ·ä¿¡æ¯ä»¥åŠhostä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨Loginä¸­å¯ä»¥ç›´æ¥å¼•ç”¨ã€‚ å½“login.pyä¸­é…ç½®å¥½äº†ç™»å½•ï¼Œåœ¨å¯åŠ¨æµ‹è¯•ä»»åŠ¡å‰ï¼Œä¼šè‡ªåŠ¨å»ç™»å½•å’Œé…ç½®è¯·æ±‚å¤´ï¼Œè¯·æ±‚å¤´çš„é…ç½®ä¼šè¢«è¯»å–çš„BaseApiçš„å®ä¾‹å±æ€§ä¸­ï¼Œæ‰€æœ‰çš„æ¥å£ç±»æ˜¯ç»§æ‰¿äºBaseApiçš„ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ¥å£éƒ½å¯ä»¥ç›´æ¥è°ƒç”¨åŸºç±»BaseApiä¸­çš„æ‰€æœ‰å®ä¾‹å±æ€§ï¼ŒåŒ…æ‹¬ï¼š class BaseApi: def __init__(self): # cacheè¡¨çš„è¿æ¥å¯¹è±¡ self.cache = Cache() # configè¡¨çš„è¿æ¥å¯¹è±¡ self.config = Config().get_all() # é…ç½®æ–‡ä»¶ä¸­å½“å‰ç¯å¢ƒçš„host self._host = self.config.get('host') # login.pyä¸­é…ç½®çš„è¯·æ±‚å¤´ self._headers = self.cache.get('headers') ç¼–å†™ao åŸºäºaomakerçš„æ ¸å¿ƒç¼–æ’æ€æƒ³ï¼šaoï¼Œapi objectï¼Œå³æ‰€æœ‰æ¥å£éƒ½è¢«å°è£…æˆå¯¹è±¡ï¼ŒåŒç±»å‹çš„æ¥å£ä¸ºä¸€ä¸ªclassï¼Œæ¯”å¦‚é›†ç¾¤çš„å¢åˆ æ”¹æŸ¥æ¥å£ï¼Œé‚£ä¹ˆâ€œé›†ç¾¤â€è¿™ä¸ªclassä¸‹ï¼Œå¯¹åº”ç€â€œå¢ã€åˆ ã€æ”¹ã€æŸ¥â€å››ä¸ªmethodï¼Œä¹Ÿå°±æ˜¯å››ä¸ªæ¥å£ï¼Œæ¯ä¸ªmethodä¸‹ï¼Œå°±æ˜¯å¯¹è¿™ä¸ªæ¥å£çš„httpåè®®è¿›è¡Œå¡«å……ï¼Œä¸¾ä¸ªä¾‹å­ï¼š # æ‰€æœ‰æ¥å£ç±»éƒ½ç»§æ‰¿äºBaseApi from aomaker.base.base_api import BaseApi # ä½œä¸šç±»ï¼Œä½œä¸šç›¸å…³çš„æ¥å£éƒ½å°è£…åœ¨è¯¥ç±»ä¸‹ class Job(BaseApi): # æäº¤ä½œä¸šæ¥å£ def submit_hpc_job(self): body = { \"service\": \"hpc\", \"action\": \"job/submitJob\", } # æ„é€ httpè¯·æ±‚åè®®ä½“ # éœ€è¦æ³¨æ„çš„æ˜¯ï¼š # è¯·æ±‚ä½“ä¸­ï¼Œä¸ç”¨æŒ‡æ˜hostå’Œheadersï¼Œå› ä¸ºåœ¨baseapiä¸­å·²ç»å°è£…å¥½äº†ï¼Œ # å½“å‘é€è¯·æ±‚æ—¶ï¼Œä¼šè‡ªåŠ¨åŠ ä¸Šhostå’Œheaders http_data = { \"method\": \"post\", \"api_path\": \"/portal_api\", \"params\": {'action': 'job/submitJob'}, \"data\": { 'params': json.dumps(body) } } # å‘é€æ¥å£è¯·æ±‚ï¼ˆBaseapiæä¾›ï¼‰ # è¿”å›jsonæ ¼å¼æ•°æ®ï¼Œå¦‚æœå“åº”æ•°æ®ä¸æ˜¯jsonæ ¼å¼ï¼Œä¼šè¿”å›txtæ ¼å¼ # resp = self.send_http(http_data) return resp ç¼–å†™case caseæ–‡ä»¶ç¼–å†™åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„testcasesä¸‹ï¼Œè¯¥ç›®å½•ä¸‹åˆ†ä¸ºå•æ¥å£caseï¼štest_apiç›®å½•å’Œåœºæ™¯caseï¼štest_scenarioç›®å½•ï¼Œæ ¹æ®è‡ªå·±éœ€è¦åœ¨å¯¹åº”ç›®å½•ä¸‹ç¼–å†™caseï¼Œè¿™é‡Œä»¥å•æ¥å£ä¸ºä¾‹ï¼š testcases/test_api/test_job.py import pytest import allure # å¯¼å…¥BaseTestcaseåŸºç±»ï¼Œè¯¥ç±»æä¾›å†…ç½®æ–­è¨€æ–¹å¼ from aomaker.base.base_testcase import BaseTestcase # å¯¼å…¥data_makerå·¥å…·æ–¹æ³•ï¼Œå¸®åŠ©è¯»å–æ•°æ®æ–‡ä»¶ï¼Œè¿›è¡Œæ•°æ®é©±åŠ¨ from aomaker.aomaker import data_maker from apis.job import job # æµ‹è¯•ç±»ç»§æ‰¿åŸºç±» class TestJob(BaseTestcase): @allure.title(\"æäº¤hpcä½œä¸š\") @pytest.mark.hpc # è§£ææ•°æ®æ–‡ä»¶ï¼Œè·å–æ•°æ®é©±åŠ¨çš„å‚æ•°åˆ—è¡¨ï¼Œdata_makeræ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š # 1.æ•°æ®æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼ˆç›¸å¯¹å·¥ç¨‹æ ¹ç›®å½•ï¼‰ # 2.æ•°æ®æ–‡ä»¶ä¸­çš„ç±»åkey # 3.æ•°æ®æ–‡ä»¶ä¸­çš„æ–¹æ³•åkey @pytest.mark.parametrize(\"test_data\", data_maker(\"data/api_data/job.yaml\", \"job\", \"hpc_submit_job\")) def test_hpc_submit_job(self, test_data): resp = job.submit_hpc_job(test_data) ret_code = resp.get(\"ret_code\") # åŸºç±»æä¾›çš„æ–­è¨€æ–¹æ³• self.assert_eq(ret_code, 0) self.assert_schema(resp, 'submit_hpc_job') è¿è¡Œç”¨ä¾‹ æµ‹è¯•ç”¨ä¾‹æä¾›ä¸¤ç§è¿è¡Œæ–¹å¼ï¼š cliï¼šarun æˆ–aomaker run ï¼Œæ”¯æŒpytestçš„æ‰€æœ‰å‚æ•° run.py: run.py from aomaker.runner import run # å¯¼å…¥ç™»å½•ç±» from login import Login if __name__ == '__main__': # ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåˆ—è¡¨ï¼Œæ¥æ”¶pytestæ”¯æŒçš„æ‰€æœ‰å‚æ•° run(['-m ehpc'], login=Login()) æŸ¥çœ‹ç”¨ä¾‹ç»“æœ aomaker é»˜è®¤å®‰è£…äº†pytest-allure æ’ä»¶ï¼Œè¿è¡Œå®Œæˆåä¼šè‡ªåŠ¨æ”¶é›†allure æŠ¥å‘Šã€‚ï¼ˆè¯·ç¡®ä¿è¿è¡Œç¯å¢ƒå·²å®‰è£…allure ï¼‰ æŠ¥å‘Šä¼šæ”¶é›†åœ¨reports ç›®å½•ä¸‹ï¼š å¦‚æœä¸æƒ³ä½¿ç”¨allure ï¼Œä¹Ÿæ”¯æŒå…¶å®ƒæ‰€æœ‰pytest æŠ¥å‘Šæ’ä»¶ï¼Œå¯ä»¥è‡ªè¡Œä½¿ç”¨ã€‚"
  },"/jekyll/2022-07-15-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E9%80%9A%E7%9F%A5.html": {
    "title": "ğŸ“¢ä¼ä¸šå¾®ä¿¡é€šçŸ¥",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-07-15-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E9%80%9A%E7%9F%A5.html",
    "body": "å½“æ‰§è¡Œå®Œæµ‹è¯•ä»»åŠ¡åï¼Œaomakeræä¾›ç›´æ¥å°†æµ‹è¯•æŠ¥å‘Šå‘é€åˆ°ä¼ä¸šå¾®ä¿¡çš„åŠŸèƒ½ã€‚ ä½¿ç”¨æ–¹æ³• å…ˆåœ¨conf\\utils.yamlä¸‹é…ç½®ä¼ä¸šå¾®ä¿¡çš„webhook utils.yaml wechat: webhook: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx åœ¨run.pyæ–‡ä»¶ä¸‹ï¼Œ run.py from aomaker.runner import run # å¯¼å…¥ä¼ä¸šå¾®ä¿¡é€šçŸ¥ç±» from aomaker.send_msg.wechat import WeChatSend from login import Login if __name__ == '__main__': run(['-m demo'], login=Login()) # å‘é€æµ‹è¯•æŠ¥å‘Šåˆ°ä¼ä¸šå¾®ä¿¡ WeChatSend().send_msg() WeChatSendç±»æœ‰å‡ ä¸ªå¯é€‰å®ä¾‹å±æ€§ï¼š testerï¼šå¯è®¾ç½®æµ‹è¯•è´Ÿè´£äººåç§° titleï¼šå¯è®¾ç½®é€šçŸ¥æ ‡é¢˜ report_addressï¼šå¯è®¾ç½®æŸ¥çœ‹æŠ¥å‘Šè¯¦æƒ…åœ°å€ æ•ˆæœ"
  },"/jekyll/2022-07-14-%E9%9B%86%E6%88%90%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C.html": {
    "title": "é›†æˆæ•°æ®åº“æ“ä½œ",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-07-14-%E9%9B%86%E6%88%90%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C.html",
    "body": "åœ¨åšæ¥å£æµ‹è¯•æ—¶ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦å»æŸ¥è¯¢ä¸šåŠ¡æ•°æ®åº“ï¼Œåšä¸€äº›æ•°æ®ç›¸å…³çš„æ ¡éªŒï¼Œæ‰€ä»¥aomakeré›†æˆäº†ä¸€äº›æ•°æ®åº“çš„ç›¸å…³æ“ä½œï¼Œç›®å‰æ”¯æŒ sqliteå’Œmysqlä¸¤ç§æ•°æ®åº“çš„ä¸€äº›å¸¸è§„æ“ä½œã€‚ å¦‚ä½•ä½¿ç”¨ï¼Ÿï¼ˆä»¥mysqlä¸ºä¾‹ï¼‰ å…ˆåœ¨é…ç½®æ–‡ä»¶conf/config.yamlä¸­é…ç½®å¯¹åº”ç¯å¢ƒçš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š config.yaml env: test test: account: pwd: test01 user: test01 host: http://test.aomaker.com # é…ç½®æ•°æ®åº“ä¿¡æ¯ mysql: host: localhost user: admin password: 123456 port: 3306 ä¸€èˆ¬ä»¥pytestæœ¬åœ°æ’ä»¶çš„æ–¹å¼å»å°è£…è·å–æ•°æ®åº“è¿æ¥å¯¹è±¡çš„æ–¹æ³•ï¼Œåœ¨conftest.pyä¸‹ï¼Œå°è£…ä¸€ä¸ªmysqlè¿æ¥æ’ä»¶ï¼š conftest.py import pytest from aomaker.database.mysql import Mysql from aomaker.cache import config @pytest.fixture(scope=\"class\") def connect_mysql(): # è¯»å–æ•°æ®åº“é…ç½®ä¿¡æ¯ mysql_conf = config.get('mysql') # åˆ›å»ºmysqlè¿æ¥å¯¹è±¡ db = Mysql(**mysql_conf) yield db # æµ‹è¯•ç»“æŸåï¼Œå…³é—­æ¸¸æ ‡å¯¹è±¡å’Œæ•°æ®åº“è¿æ¥ db.close() æœ¬åœ°æ’ä»¶åšå¥½åï¼Œåœ¨ç”¨ä¾‹å±‚ç›´æ¥ä¼ å…¥æ•°æ®åº“è¿æ¥å¯¹è±¡ï¼š test_demo.py class TestDemo(BaseTestcase): # ä»¥å‚æ•°å½¢å¼ä¼ å…¥æ•°æ®åº“è¿æ¥æ’ä»¶ def test_demo(self, connect_mysql): # è·å–æ•°æ®åº“è¿æ¥å¯¹è±¡ db = connect_mysql # é€šè¿‡æ•°æ®è¿æ¥å¯¹è±¡æ“ä½œæ•°æ®åº“ sql_res = db.get_all(\"select * from xxx\") aomakerå†…ç½®çš„mysqlï¼š class Mysql: def __init__(self, **kwargs): # è¿æ¥åˆ°æ•°æ®åº“ try: self.con = pymysql.connect(charset=\"utf8\", **kwargs) except Exception as e: logger.error(f'æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Œè¿æ¥å‚æ•°ï¼š{kwargs}') raise e else: # åˆ›å»ºä¸€ä¸ªæ¸¸æ ‡ self.cur = self.con.cursor() def get_one(self, sql): \"\"\"è·å–æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€æ¡æ•°æ®\"\"\" self.con.commit() self.cur.execute(sql) return self.cur.fetchone() def get_all(self, sql): \"\"\"è·å–sqlè¯­å¥æŸ¥è¯¢åˆ°çš„æ‰€æœ‰æ•°æ®\"\"\" self.con.commit() self.cur.execute(sql) return self.cur.fetchall() def count(self, sql): \"\"\"è·å–sqlè¯­å¥æŸ¥è¯¢åˆ°çš„æ•°é‡\"\"\" self.con.commit() res = self.cur.execute(sql) return res def close(self): # å…³é—­æ¸¸æ ‡å¯¹è±¡ self.cur.close() # æ–­å¼€è¿æ¥ self.con.close() å¦‚æœæœ‰å…¶å®ƒæ•°æ®åº“éœ€æ±‚ï¼Œå¯ä»¥è‡ªè¡Œæ‰©å±•ï¼Œä½¿ç”¨æ–¹å¼åŒä¸Šã€‚"
  },"/jekyll/2022-07-13-%E6%96%AD%E8%A8%80%E6%89%A9%E5%B1%95.html": {
    "title": "ğŸŒŠæ–­è¨€æ‰©å±•",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-07-13-%E6%96%AD%E8%A8%80%E6%89%A9%E5%B1%95.html",
    "body": "å†…ç½®æ–­è¨€ aomakerçš„æ‰€æœ‰æµ‹è¯•ç±»ï¼Œéƒ½ç»§æ‰¿äºaomakeræä¾›çš„BaseTestcaseç±»ï¼Œè¿™ä¸ªæµ‹è¯•ç±»å†…ç½®äº†ä¸€äº›å¸¸è§çš„æ–­è¨€æ–¹å¼ï¼š class BaseTestcase: @staticmethod def assert_eq(actual_value, expected_value): \"\"\" equals \"\"\" try: assert actual_value == expected_value except AssertionError as e: logger.error(f\"eqæ–­è¨€å¤±è´¥ï¼Œé¢„æœŸç»“æœï¼š{expected_value}ï¼Œå®é™…ç»“æœï¼š{actual_value}\") raise e @staticmethod def assert_gt(actual_value, expected_value): \"\"\" greater than \"\"\" try: assert actual_value &gt; expected_value except AssertionError as e: logger.error(f\"gtæ–­è¨€å¤±è´¥ï¼Œé¢„æœŸç»“æœï¼š{expected_value}ï¼Œå®é™…ç»“æœï¼š{actual_value}\") raise e @staticmethod def assert_lt(actual_value, expected_value): \"\"\" less than \"\"\" try: assert actual_value &lt; expected_value except AssertionError as e: logger.error(f\"ltæ–­è¨€å¤±è´¥ï¼Œé¢„æœŸç»“æœï¼š{expected_value}ï¼Œå®é™…ç»“æœï¼š{actual_value}\") raise e @staticmethod def assert_neq(actual_value, expected_value): \"\"\" not equals \"\"\" try: assert actual_value != expected_value except AssertionError as e: logger.error(f\"neqæ–­è¨€å¤±è´¥ï¼Œé¢„æœŸç»“æœï¼š{expected_value}ï¼Œå®é™…ç»“æœï¼š{actual_value}\") raise e @staticmethod def assert_ge(actual_value, expected_value): \"\"\" greater than or equals \"\"\" try: assert actual_value &gt;= expected_value except AssertionError as e: logger.error(f\"geæ–­è¨€å¤±è´¥ï¼Œé¢„æœŸç»“æœï¼š{expected_value}ï¼Œå®é™…ç»“æœï¼š{actual_value}\") raise e @staticmethod def assert_le(actual_value, expected_value): \"\"\" less than or equals \"\"\" try: assert actual_value &lt;= expected_value except AssertionError as e: logger.error(f\"leæ–­è¨€å¤±è´¥ï¼Œé¢„æœŸç»“æœï¼š{expected_value}ï¼Œå®é™…ç»“æœï¼š{actual_value}\") raise e @staticmethod def assert_contains(actual_value, expected_value): assert isinstance( expected_value, (list, tuple, dict, str, bytes) ), \"expect_value should be list/tuple/dict/str/bytes type\" try: assert expected_value in actual_value except AssertionError as e: logger.error(f\"containsæ–­è¨€å¤±è´¥ï¼Œé¢„æœŸç»“æœï¼š{expected_value}ï¼Œå®é™…ç»“æœï¼š{actual_value}\") raise e jsonschemaä»‹ç» æ­¤å¤–ï¼Œåœ¨2.0ä¸­è¿˜åŠ å…¥äº†jsonschemaæ–­è¨€ã€‚ æœ‰æ—¶ï¼Œæˆ‘ä»¬çš„æ¥å£å“åº”æ•°æ®ä½“ç§¯ä¼šéå¸¸åºå¤§ï¼Œå­—æ®µä¹Ÿéå¸¸å¤šï¼Œæˆ‘ä»¬å¸¸è§„çš„æ–­è¨€å¯èƒ½åªä¼šå»å…³æ³¨æŸå‡ ä¸ªå…³é”®å­—æ®µï¼Œä½†æ˜¯è¿™ä¸å¤Ÿå¥å£®ï¼Œæœ‰æ—¶å€™åç«¯â€œæ‚„æ‚„å’ªå’ªâ€åŠ äº†æŸä¸ªå­—æ®µæˆ–è€…åˆ äº†æŸä¸ªå­—æ®µæˆ–è€…æ”¹äº†æŸä¸ªå­—æ®µçš„ç±»å‹ï¼Œæˆ‘ä»¬å¯èƒ½å¾ˆéš¾å¯Ÿè§‰åˆ°ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸€äº›éšè—çš„bugé€ƒé€¸ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ å¼ºæ–­è¨€çš„å¥å£®åº¦ï¼Œè¦å¯¹æ•´ä¸ªå“åº”å†…å®¹ç»“æ„æœ‰ä¸€ä¸ªåŸºæœ¬çš„æŠŠæ§ã€‚ æ€ä¹ˆåšå‘¢ï¼Œè¿™å°±éœ€è¦ç”¨åˆ°jsonschemaäº†ã€‚ JSON Schemaæ˜¯åŸºäºJSONæ ¼å¼ï¼Œç”¨äºå®šä¹‰JSONæ•°æ®ç»“æ„ä»¥åŠæ ¡éªŒJSONæ•°æ®å†…å®¹ã€‚ JSON Schemaå®˜ç½‘åœ°å€ï¼šhttp://json-schema.org/ æ¯”å¦‚æœ‰ä¸€ä¸ªjsonå­—ç¬¦ä¸²ï¼š { \"name\": \"aomaker\", \"age\": 2, \"desc\": \"api framework\" } è¿™å…¶ä¸­nameå’Œageæ˜¯å¿…å¡«å­—æ®µï¼Œå­—æ®µç±»å‹åˆ†åˆ«æ˜¯stringå’Œintï¼Œå¯é€‰å­—æ®µæ˜¯descï¼Œå­—æ®µç±»å‹æ˜¯stringï¼Œå‡å¦‚æˆ‘æƒ³è¦æ¯ä¸ªè¿™æ ·çš„jsonå­—ç¬¦ä¸²ï¼Œéƒ½ç¬¦åˆä¸Šé¢çš„çº¦æŸï¼Œé‚£æˆ‘æ€ä¹ˆè‡ªåŠ¨å»æ ¡éªŒå‘¢ï¼Ÿè¿™å°±éœ€è¦å®‰è£…jsonschemaçš„è¯­æ³•å»å†™çº¦æŸæ¡ä»¶ã€‚ jsonchemaè¯­æ³• { \"$schema\": \"http://json-schema.org/draft-04/schema#\", \"title\": \"TestInfo\", \"description\": \"some information about test\", \"type\": \"object\", \"properties\": { \"name\": { \"description\": \"Name of the test\", \"type\": \"string\" }, \"age\": { \"description\": \"age of test\", \"type\": \"integer\" } }, \"required\": [ \"name\", \"age\" ] } å¼€å§‹æ ¡éªŒ from jsonschema import validate x = { \"name\": \"aomaker\", \"age\": 2, \"desc\": \"api framework\" } schema = { \"$schema\": \"http://json-schema.org/draft-04/schema#\", \"title\": \"TestInfo\", \"description\": \"some information about test\", \"type\": \"object\", \"properties\": { \"name\": { \"description\": \"Name of the test\", \"type\": \"string\" }, \"age\": { \"description\": \"age of test\", \"type\": \"integer\" } }, \"required\": [ \"name\" ] } validate(x, schema) å¦‚æœæ ¡éªŒé€šè¿‡ï¼Œä¼šæ²¡æœ‰è¿”å›ï¼Œä¹Ÿæ²¡æœ‰æŠ¥é”™ã€‚ å‡å¦‚ä¸å°å¿ƒæŠŠageä¼ æˆäº†å­—ç¬¦ä¸²\"2\"ï¼Œjsonschemaæ£€æµ‹åˆ°åï¼Œä¼šç«‹å³æŠ¥é”™ jsonschema.exceptions.ValidationError: '2' is not of type 'integer' Failed validating 'type' in schema['properties']['age']: {'description': 'age of test', 'type': 'integer'} On instance['age']: '2' å‡å¦‚ä¸å°å¿ƒæ²¡æœ‰ä¼ å¿…å¡«å­—æ®µnameï¼Œä¹Ÿä¼šç«‹å³æŠ¥é”™ jsonschema.exceptions.ValidationError: 'name' is a required property Failed validating 'required' in schema: {'$schema': 'http://json-schema.org/draft-04/schema#', 'description': 'some information about test', 'properties': {'age': {'description': 'age of test', 'type': 'integer'}, 'name': {'description': 'Name of the test', 'type': 'string'}}, 'required': ['name', 'age'], 'title': 'TestInfo', 'type': 'object'} On instance: {'age': 2, 'desc': 'api framework'} é€šè¿‡è¿™ç§æ‰‹æ®µæ˜¯ä¸æ˜¯å¯¹æˆ‘ä»¬æµ‹è¯•è¿‡çš„æ¥å£æ›´æœ‰ä¿¡å¿ƒäº†ï¼Ÿ æ‰©å±•jsonschemaæ–­è¨€ ä½†æ˜¯~æœ‰æ²¡æœ‰å‘ç°ï¼Œjsonschemaè™½ç„¶å¾ˆå¥½ï¼Œä½†æ˜¯ä½ å¾—æ‰‹åŠ¨å»å†™jsonschemaæ ¡éªŒè¯­æ³•ï¼Œä¸Šé¢çš„ç¤ºä¾‹è¿˜å¥½ï¼Œåªæœ‰å‡ ä¸ªå­—æ®µï¼Œä½†å®é™…ä¸šåŠ¡ä¸­ï¼Œå“åº”çš„å­—æ®µå¯èƒ½è¦æ¯”è¿™ä¸ªå¤šå¾—å¤šå¾—å¤šå§ï¼Ÿé‚£æ¯ä¸ªæ¥å£è¿™ä¹ˆå»å†™ï¼Œæˆæœ¬ä¹Ÿå¤ªé«˜äº†ï¼ æ‰€ä»¥ï¼Œ aomakeræä¾›äº†ä¸€ç§æ‰‹æ®µï¼Œå¯ä»¥è‡ªåŠ¨å»ç”Ÿæˆjsonschemaæ ¡éªŒè¯­æ³•~å…¶å®ä¸Šæ–‡æœ‰æåˆ°è¿‡ï¼Œaomaker.dbæ•°æ®åº“ä¸­ï¼Œæœ‰ä¸€å¼ è¡¨å«schemaï¼Œå…¶å®å®ƒå°±æ˜¯å­˜æ”¾è¯·æ±‚è¿‡çš„æ¯ä¸ªæ¥å£å“åº”çš„jsonschemaæ ¡éªŒè¯­æ³•çš„ã€‚aomakerä¼šè‡ªåŠ¨è®°å½•æ¯ä¸ªè¯·æ±‚ç¬¬ä¸€æ¬¡è¿”å›å“åº”æ—¶çš„jsonschemaï¼Œå½“åœ¨caseå±‚å»åšæ–­è¨€æ—¶ï¼Œaomakeræä¾›äº†ä¸€ä¸ªjsonschemaçš„æ–­è¨€åœ¨BaseTestcaseä¸­ï¼š class BaseTestcase: ... @staticmethod def assert_schema(instance, api_name): \"\"\" Assert JSON Schema :param instance: è¯·æ±‚å“åº”ç»“æœ :param api_name: å­˜æ”¾åœ¨schemaè¡¨ä¸­çš„å¯¹åº”keyå :return: \"\"\" json_schema = Schema().get(api_name) if json_schema is None: logger.error('jsonschemaæœªæ‰¾åˆ°ï¼') raise SchemaNotFound(api_name) try: validate(instance, schema=json_schema) except ValidationError as msg: logger.error(msg) raise AssertionError åœ¨caseå±‚è¿›è¡Œæ–­è¨€ï¼š class TestJob(BaseTestcase): def test_hpc_submit_job(self): resp = job.submit_hpc_job() ret_code = resp.get(\"ret_code\") self.assert_eq(ret_code, 0) # schemaæ–­è¨€ self.assert_schema(resp, 'submit_hpc_job') ä¼šæ ¹æ®ç¬¬äºŒä¸ªå‚æ•°ï¼Œå»schemaè¡¨ä¸­å–å¯¹åº”keyçš„jsonschema schemaè¡¨ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œschemaè¡¨ä¸­çš„jsonschemaæ˜¯åœ¨æ¥å£è¢«è°ƒç”¨çš„æ—¶å€™è‡ªåŠ¨å­˜å‚¨çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‰‹åŠ¨æ“ä½œï¼Œä½†æ˜¯ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæœ‰å¯èƒ½ä¼šå­˜å‚¨æ¥å£å¼‚å¸¸æ—¶çš„å“åº”çš„ç»“æ„ä½“ï¼Œæ‰€ä»¥å½“è¦åšjsonschemaæ–­è¨€æ—¶ï¼Œè¯·æ£€æŸ¥è¯¥è¡¨ï¼Œç¡®ä¿è¯¥è¡¨å¯¹åº”æ¥å£çš„jsonschemaæ˜¯ç¬¦åˆé¢„æœŸçš„ï¼Œå½“ç„¶ï¼Œaomakerä¹Ÿæä¾›äº†ä¸€ä¸ªgenson()æ–¹æ³•ï¼Œä½ å¯ä»¥é€šè¿‡è¯¥æ–¹æ³•æ‰‹åŠ¨è·å–é¢„æœŸçš„jsonschemaï¼Œç„¶åè‡ªå·±å­˜å‚¨åˆ°schemaè¡¨ä¸­ï¼Œschemaè¡¨æ˜¯å›ºåŒ–ä¸ä¼šè‡ªåŠ¨æ¸…ç†çš„ï¼Œä½ å¯ä»¥æŒç»­æ ¡æ­£å’Œç»´æŠ¤è¯¥è¡¨ã€‚ å¦‚ä½•ä½¿ç”¨genson åªéœ€è¦ä¼ å…¥jsonå­—ç¬¦ä¸²ï¼Œgenson ä¼šè‡ªåŠ¨è¿”å›å…¶jsonschemaã€‚ # å¯¼å…¥genson from aomaker.aomaker import genson x = { \"age\": 2, \"desc\": \"api framework\" } schema = genson(x) print(schema) # è¾“å‡ºï¼š # {'$schema': 'http://json-schema.org/schema#', 'type': 'object', 'properties': {'age': {'type': 'integer'}, 'desc': {'type': 'string'}}, 'required': ['age', 'desc']}"
  },"/jekyll/2022-07-12-allure%E6%8A%A5%E5%91%8A%E4%BC%98%E5%8C%96.html": {
    "title": "ğŸ‘»AllureæŠ¥å‘Šä¼˜åŒ–",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-07-12-allure%E6%8A%A5%E5%91%8A%E4%BC%98%E5%8C%96.html",
    "body": "è‡ªåŠ¨æ”¶é›†allureæŠ¥å‘Š åœ¨æ¯æ¬¡æ‰§è¡Œå®Œæµ‹è¯•ä»»åŠ¡åï¼Œaomakerä¼šè‡ªåŠ¨æ”¶é›†allureçš„æµ‹è¯•æŠ¥å‘Šï¼ŒæŠ¥å‘Šä½ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„reports\\htmlä¸‹ï¼Œåªéœ€è¦æ‰“å¼€è¯¥ç›®å½•ä¸‹çš„index.htmlæ–‡ä»¶å³å¯ã€‚ è‡ªåŠ¨è®°å½•ç”¨ä¾‹çš„ä¾èµ–è°ƒç”¨ä¿¡æ¯ åœ¨æŸ¥çœ‹allureæŠ¥å‘Šæ—¶ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªcaseçš„æµ‹è¯•æ­¥éª¤ï¼Œå³è¯¥caseè°ƒç”¨äº†å“ªäº›æ¥å£ï¼Œå¹¶è®°å½•æ¯ä¸ªæ¥å£çš„è¯·æ±‚ã€å“åº”å’Œå“åº”æ—¶é—´ç­‰ä¿¡æ¯ï¼š è‡ªåŠ¨è®°å½•æ¯ä¸ªcaseçš„æ—¥å¿—ä¿¡æ¯ aomakerä¼šè‡ªåŠ¨è®°å½•è¯¥caseçš„æ‰€æœ‰ç›¸å…³æ—¥å¿—ä¿¡æ¯"
  },"/jekyll/2022-07-11-%E4%B8%80%E9%94%AE%E5%88%87%E6%8D%A2%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83.html": {
    "title": "ğŸ¼ä¸€é”®åˆ‡æ¢è¿è¡Œç¯å¢ƒ",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-07-11-%E4%B8%80%E9%94%AE%E5%88%87%E6%8D%A2%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83.html",
    "body": "æµ‹è¯•ç¯å¢ƒä¸€èˆ¬ä¼šæœ‰å¤šå¥—ï¼Œä½†æ˜¯æ¯å¥—ç¯å¢ƒä¸Šçš„æµ‹è¯•ä»£ç åŸºæœ¬ä¸Šæ˜¯ä¸ä¼šå˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªå…¥å£æ¥æ§åˆ¶åˆ‡æ¢å½“å‰æµ‹è¯•ä»£ç çš„ç¯å¢ƒï¼Œè¿™ä¸ªå…¥å£åœ¨é…ç½®æ–‡ä»¶config.yamlä¸­çš„envå­—æ®µã€‚ config.yaml # æ§åˆ¶ç¯å¢ƒåˆ‡æ¢å…¥å£ env: test test: account: pwd: test01 user: test01 host: http://test.aomaker.com release: account: pwd: test02 user: test02 host: http://release.aomaker.com æ¯”å¦‚å½“å‰çš„æµ‹è¯•ç¯å¢ƒæ˜¯testï¼Œæˆ‘ç°åœ¨æƒ³åˆ‡æ¢åˆ°releaseç¯å¢ƒï¼Œé‚£æˆ‘åªéœ€è¦æ”¹env:releaseå³å¯ã€‚ æ­¤å¤–ï¼Œaomakerè¿˜æä¾›äº†cliå‘½ä»¤æ¥åˆ‡æ¢ç¯å¢ƒï¼Œç”¨æ³•ï¼š arun -e releaseæˆ–è€…aomaker run -e releaseï¼Œå³é€šè¿‡-e env_nameæ¥åˆ‡æ¢"
  },"/jekyll/2022-07-11-%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F.html": {
    "title": "ğŸ“˜æ—¥å¿—ç³»ç»Ÿ",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-07-11-%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F.html",
    "body": "aomakeræä¾›äº†ä¸€å¥—å…¨æ–°æ—¥å¿—ç³»ç»Ÿï¼Œè¿™å¥—æ—¥å¿—ç³»ç»Ÿå°†ä¼šè®°å½•aomakeræ‰€æœ‰å…³é”®èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š æµ‹è¯•ä»»åŠ¡å¼€å§‹å‰çš„åˆå§‹åŒ–é…ç½® æ¯ä¸ªæ¥å£çš„å…¥å‚ã€å‡ºå‚ä»¥åŠè¯¥æ¥å£çš„ä¾èµ–è°ƒç”¨ä¿¡æ¯å’Œåç½®å¼‚æ­¥æ¥å£å¤„ç†ä¿¡æ¯ å¤šçº¿ç¨‹/è¿›ç¨‹æ¨¡å¼ä¸‹çš„æ¯ä¸ªå­çº¿ç¨‹/è¿›ç¨‹çš„wokeråç§°ï¼Œçº¿ç¨‹/è¿›ç¨‹æ•°é‡ï¼Œæ¯ä¸ªçº¿ç¨‹/è¿›ç¨‹çš„å¯åŠ¨å‚æ•° æµ‹è¯•ç»“æŸåï¼Œåç½®æ¸…ç†ä¿¡æ¯ æ­¤å¤–ï¼Œæ‰€æœ‰æ—¥å¿—ä¼šåŒæ—¶åˆ†åˆ«è¾“å‡ºåˆ°ä¸‰ä¸ªåœ°æ–¹ï¼š æ§åˆ¶å° æ—¥å¿—æ–‡ä»¶ï¼Œæ‰€æœ‰æ—¥å¿—ä¼šè¢«è®°å½•åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹logs\\log.logä¸­ï¼Œè®°å½•çº§åˆ«ä¸ºdebugï¼Œrotation=10MB allureæŠ¥å‘Šï¼Œæ¯ä¸ªæ¥å£è¯·æ±‚çš„ç›¸å…³æ—¥å¿—éƒ½ä¼šè¢«è®°å½•ä¸”å±•ç¤ºåˆ°allureæŠ¥å‘Šä¸­ï¼Œè¯¦è§ä¸‹æ–‡ å¦‚æœä½ éœ€è¦åœ¨å·¥ç¨‹é¡¹ç›®ä¸­è®°å½•ä¸€äº›è‡ªå·±éœ€è¦çš„æ—¥å¿—ä¿¡æ¯ï¼Œç›´æ¥å¯¼å…¥aomakeræä¾›çš„æ—¥å¿—handlerå³å¯ï¼šfrom aomaker.log import loggerï¼Œè¿™ä¸ªloggerçš„ç”¨æ³•å’Œloguruå®Œå…¨ä¸€æ ·ã€‚ æ§åˆ¶å°æ‰“å°çš„æ—¥å¿—çº§åˆ«é»˜è®¤ä¸ºdebugï¼Œå¦‚æœä½ æƒ³æ”¹å˜é»˜è®¤çº§åˆ«ï¼Œåœ¨å‘½ä»¤è¡Œä½¿ç”¨arunå‘½ä»¤æ—¶ï¼ŒåŠ ä¸Š-l levelå³å¯ï¼Œæ¯”å¦‚åªæƒ³æ‰“å°infoåŠå…¶ä»¥ä¸Šçš„æ—¥å¿—ï¼Œä½¿ç”¨arun -l infoå³å¯ã€‚ æ”¯æŒçš„çº§åˆ«ï¼š trace debug info success warning error critical"
  },"/jekyll/2022-07-10-%E5%A4%9A%E4%BB%BB%E5%8A%A1.html": {
    "title": "ğŸš€å¤šä»»åŠ¡",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-07-10-%E5%A4%9A%E4%BB%BB%E5%8A%A1.html",
    "body": "aomaker æä¾›äº†å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹ä¸¤ç§æ–¹å¼æ¥åŠ é€Ÿç”¨ä¾‹è¿è¡Œé€Ÿåº¦ï¼Œæä¾›äº†ä¸‰ç§ç²’åº¦æ¥åˆç†æ§åˆ¶çº¿ç¨‹/è¿›ç¨‹workerï¼Œæ­¤å¤–ï¼Œå¤šçº¿ç¨‹æ¨¡å¼ä¸‹ï¼Œå¯¹allure æŠ¥å‘Šä¹Ÿåšäº†å®Œç¾å…¼å®¹ã€‚ å¤šçº¿ç¨‹ï¼ˆæ¨èï¼‰ å¯åŠ¨æ–¹å¼ aomakeræä¾›äº†ä¸¤ç§å¯åŠ¨å¤šçº¿ç¨‹ï¼šCLIå’Œrun.py cli multi-run: --mp, --multi-process specifies a multi-process running mode. --mt, --multi-thread specifies a multi-thread running mode. --dist-suite DIST_SUITE specifies a dist mode for per worker. --dist-file DIST_FILE specifies a dist mode for per worker. --dist-mark DIST_MARK [DIST_MARK ...] specifies a dist mode for per worker. å‘½ä»¤è¡Œè¾“å…¥ï¼šarun --mt --dist-xxx xxxæˆ–è€…aomaker run --mt --dist-xxx run.py run.py from login import Login from aomaker.runner import threads_run if __name__ == '__main__': threads_run(['-m ehpc','-m hpc'], login=Login()) åˆ†é…æ¨¡å¼ ä¸ºäº†æ›´åŠ ç²¾ç»†å’Œåˆç†çš„å»åˆ†é…ä»»åŠ¡ç»™å­çº¿ç¨‹ï¼Œaomakeræä¾›äº†ä¸‰ç§åˆ†é…æ¨¡å¼ï¼Œé¢—ç²’åº¦ç”±ç»†åˆ°ç²—åˆ†åˆ«æ˜¯ï¼š æŒ‰æ ‡è®°åˆ†é… å³æŒ‰ç…§pytestæä¾›çš„markåŠŸèƒ½æ¥åˆ†é…ä»»åŠ¡ç»™å­çº¿ç¨‹ï¼Œæ¯”å¦‚è¯´ä½ å¸Œæœ›å°†æ ‡è®°ä¸ºdemo1ã€demo2ã€demo3çš„ä¸‰ç»„caseåˆ†é…ç»™ä¸‰ä¸ªä¸åŒå­çº¿ç¨‹å»è·‘ï¼Œé‚£ä¹ˆä½ éœ€è¦åšçš„å°±æ˜¯ï¼šæå‰ç»™ç”¨ä¾‹æ‰“ä¸Šå¯¹åº”markï¼Œç„¶åï¼š cliï¼šarun --mt --dist-mark demo1 demo2 demo3 run.py: run.py from login import Login from aomaker.runner import threads_run if __name__ == '__main__': # æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯åˆ—è¡¨ threads_run(['-m demo1','-m demo2','-m demo3'], login=Login()) è¿™æ ·å¯åŠ¨åï¼Œä¼šå¼€å¯ä¸‰ä¸ªå­çº¿ç¨‹ï¼Œå»åˆ†åˆ«æ‰§è¡Œä¸‰ç»„caseã€‚ æ³¨æ„ï¼š 1.æ¯ç»„markä¸‹çš„caseï¼Œä¸€å®šè¦ä¿è¯æ˜¯ç‹¬ç«‹çš„ï¼ 2.æä¾›å¤šå°‘ä¸ªmarkï¼Œå°±å¼€å¯å¤šå°‘ä¸ªçº¿ç¨‹ æŒ‰æµ‹è¯•æ¨¡å—åˆ†é… å³æŒ‰ç…§æµ‹è¯•æ–‡ä»¶æ¥åˆ†é…ä»»åŠ¡ç»™å­çº¿ç¨‹ï¼Œæ¯”å¦‚åœ¨testcases\\test_apiç›®å½•ä¸‹æœ‰test_demo1.pyã€test_demo2.pyã€test_demo3.pyä¸‰ä¸ªæµ‹è¯•æ¨¡å—ï¼Œä½ å¸Œæœ›è¿™ä¸‰ä¸ªæ¨¡å—ä¸‹çš„æµ‹è¯•caseåˆ†åˆ«ç”±ä¸‰ä¸ªå­çº¿ç¨‹æ¥ç®¡æ‰§è¡Œï¼Œé‚£ä¹ˆåªéœ€è¦ï¼š cliï¼šarun --mt --dist-file testcases\\test_apiï¼Œå³å‘Šè¯‰aomakeræµ‹è¯•æ–‡ä»¶æ‰€åœ¨ç›®å½•æ—¢å¯ run.py: run.py from login import Login from aomaker.runner import threads_run if __name__ == '__main__': # æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯keyåä¸ºpathçš„å­—å…¸ threads_run({\"path\":\"testcases/test_api\"}, login=Login()) æ³¨æ„ï¼š 1.æ¯ä¸ªæµ‹è¯•æ¨¡å—ä¸‹çš„caseï¼Œä¸€å®šè¦ä¿è¯æ˜¯ç‹¬ç«‹çš„ï¼ 2.æŒ‡å®šç›®å½•ä¸‹æœ‰å¤šå°‘ä¸ªæµ‹è¯•æ¨¡å—ï¼Œå°±å¼€å¯å¤šå°‘ä¸ªçº¿ç¨‹ æŒ‰æµ‹è¯•å¥—ä»¶åˆ†é… å³æŒ‰ç…§æµ‹è¯•ç›®å½•æ¥åˆ†é…ä»»åŠ¡ç»™å­çº¿ç¨‹ï¼Œæ¯”å¦‚åœ¨testcases\\test_scenarioç›®å½•ä¸‹ï¼Œæœ‰test_scenario1ã€test_scenario2ã€test_scenario3ç­‰ä¸‰ä¸ªæµ‹è¯•ç›®å½•ï¼Œæ¯ä¸ªç›®å½•ä¸‹è¿˜æœ‰è‹¥å¹²æµ‹è¯•æ¨¡å—ï¼Œä½ å¸Œæœ›è¿™ä¸‰ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æµ‹è¯•caseåˆ†åˆ«ç”±ä¸‰ä¸ªå­çº¿ç¨‹æ¥ç®¡æ‰§è¡Œï¼Œé‚£ä¹ˆåªéœ€è¦ï¼š cliï¼šarun --mt --dist-suite testcases\\test_scenarioï¼Œå³å‘Šè¯‰aomakeræµ‹è¯•å¥—ä»¶æ‰€åœ¨ç›®å½•æ—¢å¯ run.py: run.py from login import Login from aomaker.runner import threads_run if __name__ == '__main__': # æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸² threads_run(\"testcases/test_scenario\", login=Login()) æ³¨æ„ï¼š 1.æ¯ä¸ªæµ‹è¯•æ¨¡å—ä¸‹çš„caseï¼Œä¸€å®šè¦ä¿è¯æ˜¯ç‹¬ç«‹çš„ï¼ 2.æŒ‡å®šç›®å½•ä¸‹æœ‰å¤šå°‘ä¸ªæµ‹è¯•å¥—ä»¶ï¼Œå°±å¼€å¯å¤šå°‘ä¸ªçº¿ç¨‹ å¤šè¿›ç¨‹ aomakerç›®å‰æš‚æ—¶ä¸æ”¯æŒåœ¨windowsä¸Šåˆ›å»ºå¤šè¿›ç¨‹ï¼Œlinuxæ˜¯å®Œç¾æ”¯æŒçš„ã€‚ å¯åŠ¨æ–¹å¼ aomakeråŒæ ·æä¾›äº†ä¸¤ç§å¯åŠ¨å¤šè¿›ç¨‹ï¼šCLIå’Œrun.py cli multi-run: --mp, --multi-process specifies a multi-process running mode. --mt, --multi-thread specifies a multi-thread running mode. --dist-suite DIST_SUITE specifies a dist mode for per worker. --dist-file DIST_FILE specifies a dist mode for per worker. --dist-mark DIST_MARK [DIST_MARK ...] specifies a dist mode for per worker. å‘½ä»¤è¡Œè¾“å…¥ï¼šarun --mp --dist-xxx xxxæˆ–è€…aomaker run --mp --dist-xxx run.py run.py from login import Login from aomaker.runner import processes_run if __name__ == '__main__': processes_run(['-m ehpc','-m hpc'], login=Login()) åˆ†é…æ¨¡å¼ åˆ†é…æ¨¡å¼å’Œå¤šçº¿ç¨‹æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«æ˜¯ä»»åŠ¡æ˜¯åˆ†é…ç»™å­è¿›ç¨‹ï¼Œè€Œä¸æ˜¯å­çº¿ç¨‹ï¼Œå…·ä½“åˆ†é…æ¨¡å¼è¯·å‚è€ƒå¤šçº¿ç¨‹ã€‚"
  },"/jekyll/2022-06-30-%E6%B5%81%E9%87%8F%E5%BD%95%E5%88%B6.html": {
    "title": "ğŸ“½ï¸æµé‡å½•åˆ¶",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-06-30-%E6%B5%81%E9%87%8F%E5%BD%95%E5%88%B6.html",
    "body": "å¦‚æœä¸æƒ³å†™ä»£ç ï¼Œä¹Ÿä¸æƒ³YAML ï¼Œé‚£ä¹ˆç”¨æµé‡å½•åˆ¶å§ã€‚ aomakeræä¾›aomaker recordæˆ–è€…arecæ¥å½•åˆ¶æµè§ˆå™¨ä¸Šçš„æµé‡ï¼Œå½•åˆ¶å®Œæˆåï¼Œä¼šè‡ªåŠ¨åœ¨yamlcaseç›®å½•ä¸‹ç”Ÿæˆä¸€ä»½xxx.yamlæ–‡ä»¶ï¼Œå…¶ä¸­è®°å½•äº†è¯·æ±‚è°ƒç”¨ä¿¡æ¯ï¼Œå› ä¸ºè®°å½•çš„æ˜¯åŸå§‹æµé‡ï¼Œå¦‚æœä½ æƒ³è®©caseå›ºåŒ–ï¼Œåˆ™éœ€è¦æŒ‰ç…§aomakeræä¾›çš„YAMLè¯­æ³•å»å°†å¿…è¦çš„å‚æ•°è¿›è¡Œå‚æ•°åŒ–æ”¹é€ ã€‚ æµé‡å½•åˆ¶ 1.æ‰“å¼€æµè§ˆå™¨ï¼ˆä»¥Chromeä¸ºä¾‹ï¼‰ï¼Œä¿®æ”¹æµè§ˆå™¨ä»£ç†ï¼Œå°†ä»£ç†æ”¹ä¸ºaomakerä»£ç†çš„ç«¯å£åœ°å€ã€‚ æœ‰ä¸¤ç§æ–¹å¼ï¼š åœ¨æµè§ˆå™¨è®¾ç½®ä¸­ï¼Œä¿®æ”¹æµè§ˆå™¨ä»£ç†ä¸º127.0.0.0:8082ï¼ˆä¸æ¨èï¼‰ å®‰è£…æµè§ˆå™¨æ’ä»¶Proxy SwitchyOmegaï¼Œåœ¨æ’ä»¶ä¸­é…ç½®aomakerä»£ç†ï¼Œå¹¶å°†ä»£ç†åˆ‡æ¢ä¸ºaomakerã€‚ è¯¥æ’ä»¶å¯ä»¥éå¸¸è½»æ¾çš„ç®¡ç†ä»£ç†å¹¶åˆ‡æ¢å¤šä¸ªä»£ç†ï¼Œéå¸¸æ–¹ä¾¿å¥½ç”¨ï¼Œå¼ºçƒˆæ¨è~ 2.è¿›å…¥åˆ°å·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œaomaker recordå‘½ä»¤ æ ¼å¼ï¼š aomaker record [-h] [-f [FILTER_STR]] [-p [PORT]] [--flow-detail [LEVEL]] [--save_response [SAVE_RESPONSE]] [--save_headers [SAVE_HEADERS]] [file_name] aomaker recordæœ‰ä¸€ä¸ªç®€å†™å‘½ä»¤ï¼Œarecï¼Œä¸¤è€…ç­‰æ•ˆã€‚ æ‰§è¡Œaomaker record xxx.yamlåï¼Œaomakerå°†å¼€å§‹å½•åˆ¶ï¼Œæ­¤æ—¶åªéœ€è¦åœ¨æµè§ˆå™¨ä¸­å»æ“ä½œéœ€è¦è½¬åŒ–æˆçš„è‡ªåŠ¨åŒ–ç”¨ä¾‹çš„ä¸šåŠ¡åœºæ™¯å³å¯ã€‚ å½•åˆ¶å®Œæˆåï¼Œåœ¨æ§åˆ¶å°æŒ‰ctrl+cå³å¯é€€å‡ºå½•åˆ¶ï¼Œè¾“å‡ºçš„æ–‡ä»¶å°†æ”¾åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„yamlcaseç›®å½•ä¸­ã€‚ å‚æ•°è¯´æ˜ï¼š -f, â€“filter_str æŒ‡å®šè¿‡æ»¤å­—æ®µï¼Œå¦‚-f \"console.shanhe.com\"ï¼Œå³è¡¨ç¤ºä»£ç†åªæ•è·urlä¸­å«æœ‰\"console.shanhe.com\"çš„è¯·æ±‚ã€‚ ä¹Ÿå¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªè¿‡æ»¤å­—æ®µï¼ˆè¿‡æ»¤è¡¨è¾¾å¼å‚è€ƒä¸‹é¢ï¼‰ï¼Œç”¨â€ â€œåˆ†å‰²å³å¯ï¼Œå¤šä¸ªæ¡ä»¶ç›´æ¥æ˜¯â€andâ€å…³ç³»ï¼Œå¦‚-f \"console.shanhe.com | ~hq method:/alarm\"ï¼Œè¡¨ç¤ºä»£ç†åªæ•è·urlä¸­å«æœ‰\"console.shanhe.com\"å’Œè¯·æ±‚å¤´ä¸­æœ‰\"method:/alarm\"çš„è¯·æ±‚ã€‚ é™„æ”¯æŒçš„è¿‡æ»¤è¡¨è¾¾å¼ï¼š The following operators are understood: ~q Request ~s Response Headers: Patterns are matched against \"name: value\" strings. Field names are all-lowercase. ~a Asset content-type in response. Asset content types are: text/javascript application/x-javascript application/javascript text/css image/* application/x-shockwave-flash ~h rex Header line in either request or response ~hq rex Header in request ~hs rex Header in response ~b rex Expression in the body of either request or response ~bq rex Expression in the body of request ~bs rex Expression in the body of response ~t rex Shortcut for content-type header. ~d rex Request domain ~m rex Method ~u rex URL ~c CODE Response code. rex Equivalent to ~u rex -p,â€“port æŒ‡å®šaomakerä»£ç†ç«¯å£ï¼Œé»˜è®¤ä¸º8082ã€‚ â€“flow-detail æŒ‡å®šä»£ç†å½•åˆ¶æ—¶è®°å½•æ—¥å¿—ä¿¡æ¯çš„è¯¦ç»†ç¨‹åº¦ï¼Œä¸€å…±0~4äº”ä¸ªç­‰çº§ï¼Œè¯¦ç»†ç¨‹åº¦ä¾æ¬¡é€’å¢ï¼Œé»˜è®¤ä¸º0ã€‚ â€“save_response æŒ‡å®šå½•åˆ¶æµé‡æ—¶ï¼Œæ˜¯å¦ä¿å­˜å“åº”ç»“æœï¼Œ0ä¸ºä¿å­˜ï¼Œ1ä¸ºä¸ä¿å­˜ï¼Œé»˜è®¤ä¸º0ã€‚ â€“save_headers æŒ‡å®šå½•åˆ¶æµé‡æ—¶ï¼Œæ˜¯å¦ä¿å­˜è¯·æ±‚å¤´ï¼Œ0ä¸ºä¿å­˜ï¼Œ1ä¸ºä¸ä¿å­˜ï¼Œé»˜è®¤ä¸º1ã€‚ file_name è¯¥å‚æ•°ä¸ºå¿…å¡«å‚æ•°ï¼ŒæŒ‡å®šå½•åˆ¶æµé‡çš„è¾“å‡ºæ–‡ä»¶ï¼ˆYAMLæ ¼å¼ï¼‰ï¼Œéœ€è¦æ³¨æ„æŒ‡å®šæ–‡ä»¶åæ˜¯éœ€è¦æ·»åŠ åç¼€â€.yamlâ€æˆ–â€.ymlâ€ï¼Œæ–‡ä»¶å°†ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•çš„yamlcaseç›®å½•ä¸‹ã€‚ haræ–‡ä»¶è§£æ å¦‚æœä¸ä½¿ç”¨æµé‡å½•åˆ¶çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æµè§ˆå™¨F12ï¼Œfiddlerï¼ŒCharlesç­‰åœºæ™¯æŠ“åŒ…å·¥å…·å¯¼å‡ºçš„.haræ–‡ä»¶ï¼Œaomakeræ”¯æŒå°†haræ–‡ä»¶è§£æä¸ºYAMLæ ¼å¼çš„åŠŸèƒ½ï¼Œä½¿ç”¨å‘½ä»¤aomaker har2yå³å¯ã€‚ å‚æ•°è¯´æ˜ï¼š har_path æŒ‡å®š.haræ–‡ä»¶ä½ç½® yaml_path æŒ‡å®šè½¬åŒ–çš„.yamlæ–‡ä»¶è¾“å‡ºä½ç½® â€“filter_str haræ–‡ä»¶è½¬åŒ–ä¸ºyamlæ–‡ä»¶æ—¶ï¼Œæ‰€éœ€è¦ç­›é€‰çš„å­—æ®µ â€“exclude_str haræ–‡ä»¶è½¬åŒ–ä¸ºyamlæ–‡ä»¶æ—¶ï¼Œæ‰€éœ€è¦æ’é™¤çš„å­—æ®µ â€“save_response æŒ‡å®šharæ–‡ä»¶è½¬åŒ–ä¸ºyamlæ–‡ä»¶æ—¶ï¼Œæ˜¯å¦ä¿å­˜å“åº”ç»“æœï¼Œ0ä¸ºä¿å­˜ï¼Œ1ä¸ºä¸ä¿å­˜ï¼Œé»˜è®¤ä¸º0ã€‚ â€“save_headers æŒ‡å®šharæ–‡ä»¶è½¬åŒ–ä¸ºyamlæ–‡ä»¶æ—¶ï¼Œæ˜¯å¦ä¿å­˜è¯·æ±‚å¤´ï¼Œ0ä¸ºä¿å­˜ï¼Œ1ä¸ºä¸ä¿å­˜ï¼Œé»˜è®¤ä¸º1ã€‚ ä¿®æ”¹YAMLæ–‡ä»¶ å½•åˆ¶çš„æµé‡å°†ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•çš„yamlcaseç›®å½•ä¸‹ã€‚ å…·ä½“ä¿®æ”¹æ–¹æ³•å‚è€ƒä¸Šä¸€ç« ã€‚"
  },"/jekyll/2022-06-26-YAML.html": {
    "title": "ğŸ“ç¼–å†™YAMLè‡ªåŠ¨ç”Ÿæˆç”¨ä¾‹",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-06-26-YAML.html",
    "body": "aomakeræä¾›äº†ä¸€å¥—YAMLæ¨¡æ¿è¯­æ³•ï¼Œåªè¦éµå¾ªè§„å®šè¯­æ³•ï¼Œå°±å¯ä»¥ä¸ç”¨å†™ä»£ç ï¼Œç›´æ¥é€šè¿‡YAMLæ–‡ä»¶ç›´æ¥ç¿»è¯‘ä¸ºpytesté£æ ¼çš„ä»£ç æ–‡ä»¶ã€‚ YAMLè¯­æ³•ä»‹ç»ç¤ºä¾‹ï¼š testcase_class_nameï¼ˆå¿…å¡«ï¼‰:æŒ‡å®šæµ‹è¯•ç±»åç§° descriptionï¼ˆå¯é€‰ï¼‰ï¼šç”¨ä¾‹æè¿° testcase_nameï¼ˆå¿…å¡«ï¼‰ï¼šæŒ‡å®šæµ‹è¯•ç±»ä¸‹çš„æµ‹è¯•æ–¹æ³•åç§° configï¼ˆå¯é€‰ï¼‰ï¼šé…ç½®å…¨å±€å˜é‡ï¼ˆé…ç½®æ–‡ä»¶ä¸­çš„å…¨å±€å˜é‡ï¼‰ï¼Œé‡‡ç”¨é”šç‚¹æ ‡è®°çš„æ–¹å¼ï¼Œä¸‹æ–‡å¯ä»¥ç›´æ¥å¼•ç”¨ # ç¤ºä¾‹ # æ ‡è®°é”šç‚¹ config: &amp;config zone: \"self.config.get('zone')\" steps: - class_name: 'job' method_name: 'submit_job' request: ... data: params: service: hpc ... # å¼•ç”¨é”šç‚¹ &lt;&lt;: *config # ç­‰åŒäº zoneï¼š\"self.config.get('zone')\" stepsï¼šæµ‹è¯•åœºæ™¯æ‰€åŒ…å«çš„æ‰€æœ‰æ¥å£åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ å³ä»£è¡¨ä¸€ä¸ªæ¥å£è¯·æ±‚ä¿¡æ¯ã€‚ï¼ˆå…ˆåé¡ºåºä»£è¡¨æ¥å£è¯·æ±‚é¡ºåºï¼‰stepsä¸­æ¯ä¸ªå…ƒç´ ä¸­è‡³å°‘æœ‰3ä¸ªå­—æ®µï¼š class_nameï¼ˆå¿…å¡«ï¼‰ï¼šæŒ‡å®šaoçš„ç±»å method_nameï¼ˆå¿…å¡«ï¼‰ï¼šæŒ‡å®šaoç±»ä¸‹çš„æ–¹æ³•åï¼Œå³æ¥å£åç§° requestï¼ˆå¿…å¡«ï¼‰: æ¥å£è¯·æ±‚ä¿¡æ¯ dependent_apiï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡æ˜è¯¥æ¥å£çš„ä¾èµ–æ¥å£ï¼Œä»¥åˆ—è¡¨å½¢å¼æ¥æ”¶ï¼Œå¯ä»¥æ¥æ”¶å¤šä¸ªä¾èµ–ï¼ŒæŒ‰å…ˆåé¡ºåºè°ƒç”¨ï¼Œæ¯ä¸ªä¾èµ–éœ€è¦æŒ‡æ˜çš„å‚æ•°å¦‚ä¸‹ï¼š moduleï¼ˆå¿…å¡«ï¼‰: ä¾èµ–æ¥å£çš„æ‰€åœ¨æ¨¡å—ï¼Œä»apisæ¨¡å—å¯¼å…¥ï¼Œå¦‚apis.cluster apiï¼ˆå¿…å¡«ï¼‰: ä¾èµ–æ¥å£çš„æ–¹æ³•åç§°ï¼Œå¦‚list extractï¼ˆå¿…å¡«ï¼‰: éœ€è¦ä»ä¾èµ–æ¥å£ä¸­æå–çš„å‚æ•° api_paramsï¼ˆå¯é€‰ï¼‰ï¼šä¾èµ–æ¥å£æ‰€éœ€è¦çš„å‚æ•°ï¼Œä»¥å­—å…¸å½¢å¼æ¥æ”¶ cluster_type: 'ehpc' # ç¤ºä¾‹ ... steps: - class_name: 'job' method_name: 'submit_job' dependent_api: # æŒ‡æ˜ä¾èµ–apis.clusteræ¨¡å—ä¸‹çš„listæ–¹æ³• - module: apis.cluster api: list extract: \"cluster_id\" # æå–çš„å‚æ•°å api_params: cluster_type: 'ehpc' # ä¾èµ–æ¥å£æ‰€éœ€è¦å¤–éƒ¨ä¼ å…¥çš„å‚æ•° # æŒ‡æ˜ä¾èµ–apis.queueæ¨¡å—ä¸‹çš„get_queue_listæ–¹æ³• - module: apis.queue api: get_queue_list extract: \"ehpc_queue_id\" dependent_paramsï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡æ˜è¯¥æ¥å£ï¼Œéœ€è¦ä»ä¾èµ–æ¥å£ä¸­å¼•ç”¨ä»€ä¹ˆå˜é‡ï¼Œå¹¶ä»¥ä»€ä¹ˆjsonpathè¡¨è¾¾å¼æå–ã€‚ä»¥åˆ—è¡¨å½¢å¼æ¥æ”¶ï¼ˆæ³¨æ„ï¼šå½“æŒ‡æ˜dependent_paramsï¼Œå°±å¿…é¡»åŒæ—¶æŒ‡æ˜dependent_apiï¼‰ï¼Œæ¯ä¸ªä¾èµ–å‚æ•°éœ€è¦æŒ‡æ˜çš„å‚æ•°å¦‚ä¸‹ï¼š paramsï¼ˆå¿…å¡«ï¼‰ï¼šæŒ‡æ˜éœ€è¦æå–çš„ä¾èµ–å‚æ•°å jsonpathï¼ˆå¿…å¡«ï¼‰ï¼šæŒ‡æ˜æå–ä¾èµ–å‚æ•°çš„jsonpathè¡¨è¾¾å¼ indexï¼ˆå¯é€‰ï¼‰ï¼šjsonpathè¡¨è¾¾å¼æå–å‡ºçš„å€¼æ˜¯listï¼Œå¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚æŒ‡æ˜éœ€è¦æå–å“ªä¸ªï¼Œé»˜è®¤å€¼ä¸º0 # ç¤ºä¾‹ ... steps: - class_name: 'job' method_name: 'submit_job' dependent_api: ... dependent_params: - params: \"hpc_cluster_id\" # ä¾èµ–çš„å‚æ•°åï¼Œæ³¨æ„ä¸‹é¢å¼•ç”¨æ—¶ï¼Œå°±æ˜¯ç”¨è¯¥åç§° jsonpath: \"$..cluster_id\" # ä»ä¾èµ–æ¥å£çš„å“åº”ä¸­æ ¹æ®è¯¥è¡¨è¾¾å¼æå–ä¾èµ–å‚æ•° - params: \"hpcqueue_id\" jsonpath: \"$..hpcqueue_id\" request: ... data: params: ... cluster_id: \"$hpc_cluster_id$\" # é€šè¿‡$dependent_paramsä¸­çš„params$è¿›è¡Œå¼•ç”¨ hpcqueue_id: \"$hpcqueue_id$\" data_drivenï¼ˆå¯é€‰ï¼‰ï¼šè‹¥è¯¥æ¥å£éœ€è¦åšæ•°æ®é©±åŠ¨ï¼Œå¯ä»¥é€šè¿‡è¯¥å‚æ•°æŒ‡æ˜ã€‚ ä¸€ä¸ªä¸šåŠ¡åœºæ™¯ä¸­ï¼Œè‹¥å¤šä¸ªæ¥å£éƒ½æœ‰data_drivenå‚æ•°ï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨è¿›è¡Œå‚æ•°ç»„åˆï¼Œç”Ÿæˆå¤šæ¡è¿™ä¸ªä¸šåŠ¡åœºæ™¯çš„æµ‹è¯•æ•°æ®ã€‚ ä¸ä»…å¦‚æ­¤ï¼Œå‡¡æ˜¯æ¥å£ä¸­å¸¦æœ‰data_drivenï¼ŒåŒæ—¶è¿˜ä¼šç”Ÿæˆå•æ¥å£æµ‹è¯•æ•°æ®ã€‚ # ç¤ºä¾‹ ... steps: - class_name: 'job' method_name: 'submit_job' data_driven: # æŒ‡æ˜éœ€è¦æ•°æ®é©±åŠ¨çš„å‚æ•° cmd_line: [\"sleep 10 \",\"sleep 15 \",\"sleep 30 \",....] # å‚æ•°åï¼šå‚æ•°ç»„ ... request: ... data: params: ... # test_data['cmd_line']çš„æ–¹å¼æ ‡è®°è¯¥å‚æ•°æ˜¯éœ€è¦æ•°æ®é©±åŠ¨çš„å‚æ•° cmd_line: \"test_data['cmd_line']\" assertï¼ˆå¯é€‰ï¼‰ï¼šè‹¥éœ€è¦å¯¹è¯¥æ¥å£çš„å“åº”ç»“æœè¿›è¡Œæ–­è¨€ï¼Œå¯æ·»åŠ æ­¤å‚æ•°ï¼Œä»¥åˆ—è¡¨å½¢å¼æ¥æ”¶ã€‚ # ç¤ºä¾‹ ... steps: - class_name: 'job' method_name: 'submit_job' ... request: ... assert: - eq: [ 'ret_code',0 ] # [jsonpathè¡¨è¾¾å¼ï¼ˆå®é™…ç»“æœï¼‰,jsonpathç´¢å¼•(å¯ä¸å†™ï¼Œé»˜è®¤ä¸º0),é¢„æœŸç»“æœ] - neq: [ '$..hpcjob_uuid',null ] psï¼šæ”¯æŒçš„æ–­è¨€å™¨å¯åœ¨_aomaker.base.base_testcase_ä¸­æŸ¥çœ‹ã€‚ YAMLå®Œæ•´å®ä¾‹ demo.yaml testcase_class_name: 'smoke2' description: 'hpcå†’çƒŸ' testcase_name: 'hpc_smoke' config: &amp;config zone: \"self.config.get('zone')\" owner: \"self.config.get('owner')\" user_id: \"self.config.get('owner')\" run_user: \"self.config.get('owner')\" steps: - class_name: 'cluster' method_name: 'list' request: api_path: /portal_api/ method: POST params: action: cluster/list data: params: service: hpc action: cluster/list status: [ \"active\" ] sort_key: \"create_time\" verbose: 1 limit: 10 offset: 0 reverse: 1 cluster_type: \"ehpc\" &lt;&lt;: *config method: GET assert: - ge: [ '$..total_count',0 ] - class_name: cluster method_name: 'list_node' dependent_params: - params: \"hpc_cluster_id\" jsonpath: \"$..cluster_id\" index: 0 request: api_path: /portal_api/ method: POST params: action: cluster/listNodes data: params: action: cluster/listNodes service: hpc status: - active - stopped - pending sort_key: role reverse: 1 verbose: 1 limit: 10 offset: 0 cluster_id: \"$hpc_cluster_id$\" &lt;&lt;: *config method: GET - class_name: 'user' method_name: 'user_list' dependent_params: - params: \"hpc_cluster_id\" jsonpath: \"$..cluster_id\" index: 0 request: api_path: /portal_api/ method: POST params: action: user data: params: service: hpc action: user/list limit: 10 offset: 0 sort_key: 'create_time' reverse: 1 cluster_id: \"$hpc_cluster_id$\" &lt;&lt;: *config method: GET - class_name: 'user' method_name: 'add_user' dependent_params: - params: \"hpc_cluster_id\" jsonpath: \"$..cluster_id\" index: 0 data_driven: username: [ admin7,admin8,admin9 ] password: [ zhu!!jie,zhu@@jie,zhu@10jie ] request: api_path: /portal_api/ method: POST params: action: user/addUser data: params: service: hpc action: user/addUser mod: '755' username: \"test_data['username']\" password: \"test_data['password']\" cluster_id: \"$hpc_cluster_id$\" &lt;&lt;: *config assert: - eq: [ 'ret_code',0 ] - class_name: 'user' method_name: 'modify_user' dependent_params: - params: \"hpc_cluster_id\" jsonpath: \"$..cluster_id\" index: 0 data_driven: username: [ admin7,admin8,admin9 ] request: api_path: /portal_api/ method: POST params: action: user/modifyUser data: params: service: hpc action: user/modifyUser new_password: Zhu@@@88jie username: \"test_data['username']\" cluster_id: \"$hpc_cluster_id$\" &lt;&lt;: *config assert: - eq: [ 'ret_code',0 ] - class_name: 'user' method_name: 'delete_user' dependent_params: - params: \"hpc_cluster_id\" jsonpath: \"$..cluster_id\" index: 0 data_driven: username: [ admin7,admin8,admin9 ] request: api_path: /portal_api/ method: POST params: action: user/deleteUser data: params: service: hpc action: user/deleteUser username: \"test_data['username']\" cluster_id: \"$hpc_cluster_id$\" &lt;&lt;: *config assert: - eq: [ 'ret_code',0 ] - class_name: 'queue' method_name: 'get_queue_list' dependent_params: - params: \"hpc_cluster_id\" jsonpath: \"$..cluster_id\" index: 0 request: api_path: /portal_api/ method: POST params: action: queue/ehpc/getQueueList data: params: service: hpc action: queue/ehpc/getQueueList limit: 10 offset: 0 sort_key: create_time reverse: 1 pageSize: 100 is_active: 1 cluster_id: \"$hpc_cluster_id$\" &lt;&lt;: *config method: GET assert: - eq: [ 'ret_code',0 ] - class_name: 'job' method_name: 'submit_ehpc_job' dependent_api: - module: apis.cluster api: list extract: \"cluster_id\" api_params: cluster_type: 'ehpc' - module: apis.queue api: get_queue_list extract: \"ehpc_queue_id\" dependent_params: - params: \"hpc_cluster_id\" jsonpath: \"$..cluster_id\" - params: \"hpcqueue_id\" jsonpath: \"$..hpcqueue_id\" data_driven: cmd_line: [ 'sleep 10','sleep 5', 'sleep 15' ] request: api_path: /portal_api/ method: POST params: action: job/submitJob data: params: service: hpc action: job/submitJob cmd_line_type: input name: 'mitm work' priority: 1 cmd_line: \"test_data['cmd_line']\" cluster_id: \"$hpc_cluster_id$\" hpcqueue_id: \"$hpcqueue_id$\" &lt;&lt;: *config assert: - eq: [ 'ret_code',0 ] - neq: [ 'hpcjob_uuid',null ] å°†è¯¥demo.yamlæ–‡ä»¶æ”¾åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„yamlcaseæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åå‘½ä»¤è¡Œè¿›å…¥åˆ°å·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š aomaker mcase yamlcase\\demo.yamlåï¼Œaomakerä¼šç›´æ¥å°†yamlæ–‡ä»¶ä¸­çš„æè¿°ï¼Œè½¬åŒ–ä¸ºå¯¹åº”ä»£ç æ–‡ä»¶ã€‚ åœ¨apisç›®å½•ä¸‹ç”Ÿæˆæ¥å£æ–‡ä»¶ï¼š cluster.py æ•°æ®æ–‡ä»¶åŒ…æ‹¬å•åœºæ™¯å’Œä¸šåŠ¡åœºæ™¯ï¼š smoke2.yaml ç”Ÿæˆçš„æµ‹è¯•æ–‡ä»¶ï¼ŒåŒ…æ‹¬å•æ¥å£å’Œä¸šåŠ¡åœºæ™¯caseï¼š test_smoke2.py"
  },"/jekyll/2022-05-24-async_api.html": {
    "title": "ğŸ‘½async_apiè£…é¥°å™¨ç”¨æ³•",
    "keywords": "Jekyll",
    "url": "/jekyll/2022-05-24-async_api.html",
    "body": "å½“æ¥å£æ˜¯å¼‚æ­¥æ¥å£ï¼Œæ€ä¹ˆåšåˆ¤æ–­å¼‚æ­¥ç»“æœï¼Ÿ aomakeræä¾›äº†@async_apiæ¥æ ‡è®°å¼‚æ­¥æ¥å£ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š from aomaker.base.base_api import BaseApi from aomaker.aomaker import dependence, async_api from apis.cluster import cluster from utils import wait_job class Job(BaseApi): @async_api(wait_job, 'hpcjob_uuid') @dependence(cluster.get_cluster_list, 'hpc_cluster_id', cluster_type='hpc') def submit_hpc_job(self, test_data): ... return resp ä½¿ç”¨æ­¥éª¤ï¼š from aomaker.aomaker import async_apiå¯¼å…¥@async_apiè£…é¥°å™¨ @async_apiè£…é¥°å™¨æ¥æ”¶ä¸¤ä¸ªå¿…ä¼ å‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè‡ªå·±ç¼–å†™çš„è½®è¯¢å‡½æ•° ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»ç›®æ ‡æ¥å£çš„å“åº”ä¸­æ ¹æ®jsonpathè¡¨è¾¾å¼æå–å¼‚æ­¥ä»»åŠ¡id éå¿…å¡«å‚æ•°ï¼Œjsonpathè¡¨è¾¾å¼æå–å‡ºçš„å€¼æ˜¯listï¼Œå¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚æŒ‡æ˜éœ€è¦æå–å“ªä¸ªï¼Œé»˜è®¤å€¼ä¸º0 å½“ä¸€ä¸ªæ¥å£è¢«æ‰“ä¸Šè¿™ä¸ªæ ‡è®°ï¼Œé‚£ä¹ˆä¼šåœ¨æ¥å£è¢«è¯·æ±‚å®Œæˆåï¼Œä¼šå¼€å§‹æ‰§è¡Œè‡ªå·±ç¼–å†™çš„è½®è¯¢å‡½æ•°ï¼Œæ¥åˆ¤æ–­è¯¥å¼‚æ­¥æ¥å£çš„å¼‚æ­¥ä»»åŠ¡ç»“æœæ˜¯å¦å¾—åˆ°é¢„æœŸç»“æœã€‚"
  },"/jekyll/2021-08-10-dependence.html": {
    "title": "ğŸ¤–dependenceè£…é¥°å™¨ç”¨æ³•",
    "keywords": "Jekyll",
    "url": "/jekyll/2021-08-10-dependence.html",
    "body": "å½“è¯¥æ¥å£æœ‰ä¾èµ–æ¥å£ï¼Œå‚æ•°ä¸­æœ‰ä¾èµ–ä¸Šä¸ªæ¥å£çš„è¿”å›æ€ä¹ˆåŠï¼Ÿ aomakeræä¾›äº†ä¸€ä¸ªä¾èµ–æ¥å£è£…é¥°å™¨ï¼š@dependenceï¼Œåªéœ€è¦æ ‡è®°ä¾èµ–å“ªä¸ªæ¥å£ï¼Œå°±ä¼šåœ¨è¯·æ±‚è¯¥æ¥å£å‰ï¼Œå…ˆå»è¯·æ±‚ä¾èµ–æ¥å£ï¼Œå¹¶å°†ä¾èµ–çš„è¿”å›ä¿å­˜åœ¨cahceä¸­ï¼Œå…·ä½“ç”¨æ³•ï¼š import json from aomaker.base.base_api import BaseApi # ä»aomakerå¯¼å…¥depedenceè£…é¥°å™¨ from aomaker.aomaker import dependence # å¯¼å…¥ä¾èµ–æ¥å£çš„æ¥å£å¯¹è±¡ from apis.cluster import cluster class Job(BaseApi): # dependenceæ ‡è®°ä¾èµ–å‚æ•° @dependence(cluster.get_cluster_list, 'hpc_cluster_id', cluster_type='hpc') def submit_hpc_job(self, test_data): body = { # ä»cacheä¸­è·å–ä¾èµ–å‚æ•° \"cluster_id\": self.cache.get_by_jsonpath('hpc_cluster_id', jsonpath_expr='$..cluster_id'), \"hpcqueue_id\": self.cache.get_by_jsonpath('hpc_queue_id', jsonpath_expr='$..hpcqueue_id'), \"scheduler_queue_name\": \"medium\", \"cmd_line\": test_data[\"cmd_line\"] } http_data = { \"method\": \"post\", \"api_path\": \"/portal_api\", \"params\": {'action': 'job/submitJob'}, \"data\": { 'params': json.dumps(body) } } resp = self.send_http(http_data) return resp ä½¿ç”¨æ­¥éª¤ï¼š from aomaker.aomaker import dependenceå¯¼å…¥è£…é¥°å™¨ å¯¼å…¥ä¾èµ–æ¥å£å¯¹è±¡ åœ¨æ¨¡æ¿æ¥å£ä¸Šä½¿ç”¨@dependence è£…é¥°å™¨ï¼Œè¯¥è£…é¥°å™¨æ¥æ”¶2ä¸ªå¿…ä¼ å‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¾èµ–æ¥å£å¯¹è±¡ ç¬¬äºŒä¸ªå‚æ•°ï¼Œéœ€è¦ä»ä¾èµ–æ¥å£å“åº”ä¸­æå–çš„å‚æ•°å å¦‚æœä¾èµ–æ¥å£æœ¬èº«éœ€è¦ä»å¤–éƒ¨ä¼ å…¥å‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä»¥å…³é”®å­—å‚æ•°çš„å½¢å¼ä¼ å…¥ åœ¨bodyä¸­ï¼Œå½“éœ€è¦å¼•ç”¨ä¾èµ–æ¥å£çš„å‚æ•°æ—¶ï¼Œç›´æ¥è°ƒç”¨self.cache.get_by_jsonpathæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶2ä¸ªå¿…ä¼ å‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¾èµ–å‚æ•°çš„å‚æ•°åï¼Œå³cacheè¡¨ä¸­çš„keyå ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»ä¾èµ–æ¥å£çš„å“åº”ä¸­ï¼Œæå–å‡ºä¾èµ–å‚æ•°å€¼çš„jsonpathè¡¨è¾¾å¼ éå¿…å¡«ï¼Œjsonpathè¡¨è¾¾å¼æå–å‡ºçš„å€¼æ˜¯listï¼Œå¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚æŒ‡æ˜éœ€è¦æå–å“ªä¸ªï¼Œé»˜è®¤å€¼ä¸º0 â€‹ å¦‚æœè¦æå–çš„å€¼ï¼Œä¸éœ€è¦ä½¿ç”¨jsonpath æ¥æå–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨self.cache.get(key_name) æå–ã€‚ å¦‚æœä¾èµ–çš„æ¥å£ï¼Œæ˜¯åŒä¸€ä¸ªç±»çš„æ–¹æ³•æ€ä¹ˆåŠï¼Ÿ @dependenceçš„ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä¼ å…¥ï¼Œå¦‚\"Job.job_list\"ï¼ŒåŒæ—¶ï¼Œè¿˜éœ€è¦å‘Šè¯‰è£…é¥°å™¨ï¼Œæ¥å£å¯¹è±¡æ¥è‡ªå“ªä¸ªæ¨¡å—ï¼Œä¼ å…¥imp_module=\"apis.job\"ã€‚ class Job(BaseApi): # dependenceæ ‡è®°ä¾èµ–å‚æ•° @dependence(\"Job.job_list\", 'job_id',imp_module=\"apis.job\") def submit_hpc_job(self, test_data): å¦‚æœæœ‰å¤šä¸ªä¾èµ–æ¥å£ï¼Œæ€ä¹ˆåŠï¼Ÿ åªéœ€è¦ç»§ç»­åŠ â€œå¸½å­â€å³å¯ï¼Œéœ€è¦æ³¨æ„è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸Šå¾€ä¸‹æ‰§è¡Œã€‚ class Job(BaseApi): # ä¾èµ–ä»ä¸Šå¾€ä¸‹æ‰§è¡Œ @dependence(cluster.get_cluster_list, 'hpc_cluster_id', cluster_type='hpc') @dependence(queue.get_queue_list, 'hpc_queue_id') def submit_hpc_job(self, test_data): ... return resp"
  },"/jekyll/2019-04-29-%E5%8F%98%E9%87%8F%E7%AE%A1%E7%90%86.html": {
    "title": "â˜„ï¸å˜é‡ç®¡ç†",
    "keywords": "Jekyll",
    "url": "/jekyll/2019-04-29-%E5%8F%98%E9%87%8F%E7%AE%A1%E7%90%86.html",
    "body": "ä¸ºäº†å¯¹å¤šä»»åŠ¡è¿è¡Œæµ‹è¯•ç”¨ä¾‹æœ‰æ›´å¥½çš„æ”¯æŒï¼Œaomaker é‡‡ç”¨äº†æœ¬åœ°æ•°æ®åº“sqliteçš„æ–¹æ¡ˆæ¥å­˜å‚¨ç®¡ç†å˜é‡ï¼Œsqliteæ˜¯ä¸€ä¸ªéå¸¸è½»é‡çš„æœ¬åœ°æ–‡ä»¶æ•°æ®åº“ï¼Œå¯ä»¥ç›´æ¥è®¿é—®å­˜å‚¨æ–‡ä»¶ï¼Œè€Œä¸”ä¸éœ€è¦ä»»ä½•å®‰è£…é…ç½®~ SQLiteæ˜¯ä¸€ä¸ªè¿›ç¨‹å†…çš„åº“ï¼Œå®ç°äº†è‡ªç»™è‡ªè¶³çš„ã€æ— æœåŠ¡å™¨çš„ã€é›¶é…ç½®çš„ã€äº‹åŠ¡æ€§çš„ SQL æ•°æ®åº“å¼•æ“ã€‚å®ƒæ˜¯ä¸€ä¸ªé›¶é…ç½®çš„æ•°æ®åº“ï¼Œè¿™æ„å‘³ç€ä¸å…¶ä»–æ•°æ®åº“ä¸ä¸€æ ·ï¼Œæ‚¨ä¸éœ€è¦åœ¨ç³»ç»Ÿä¸­é…ç½®ã€‚ å°±åƒå…¶ä»–æ•°æ®åº“ï¼ŒSQLite å¼•æ“ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œå¯ä»¥æŒ‰åº”ç”¨ç¨‹åºéœ€æ±‚è¿›è¡Œé™æ€æˆ–åŠ¨æ€è¿æ¥ã€‚SQLite ç›´æ¥è®¿é—®å…¶å­˜å‚¨æ–‡ä»¶ã€‚ å½“ä½¿ç”¨aomakeråˆ›å»ºå®Œè„šæ‰‹æ¶åï¼Œä¼šåœ¨databaseç›®å½•ä¸‹åˆ›å»ºaomaker.dbæ•°æ®åº“æ–‡ä»¶ï¼Œå¹¶ä¸”aomakerå†…ç½®äº†ä¸‰å¼ æ•°æ®è¡¨ï¼Œæ¥åˆ†åˆ«ç®¡ç†å…¨å±€å˜é‡ã€æ¥å£ä¾èµ–å‚æ•°ã€jsonschemaï¼Œè¿™ä¸‰å¼ è¡¨åˆ†åˆ«æ˜¯ï¼š configï¼šå­˜å‚¨é…ç½®æ–‡ä»¶ä¸­çš„å…¨å±€å˜é‡ï¼Œå¦‚è´¦æˆ·ä¿¡æ¯ï¼Œç¯å¢ƒhostç­‰é…ç½®ä¿¡æ¯ï¼Œå½“å¯åŠ¨æµ‹è¯•ä»»åŠ¡åï¼Œä¼šæ ¹æ®å½“å‰é€‰æ‹©çš„æµ‹è¯•ç¯å¢ƒï¼Œè‡ªåŠ¨è¯»å–config.yamlä¸­çš„é…ç½®å­˜åˆ°configè¡¨ä¸­ï¼Œè¯¥é…ç½®ä¼šå›ºåŒ–ä¸æ¸…ç†ï¼Œé™¤éæ›´æ”¹äº†æµ‹è¯•ç¯å¢ƒã€‚ cacheï¼šå­˜å‚¨æµ‹è¯•è¿‡ç¨‹ä¸­ä¸Šä¸‹æ¸¸æ¥å£ä¹‹é—´çš„ä¾èµ–æ¥å£çš„å“åº”ï¼Œä¼šæ­é…åæ–‡å°†è¦è®²åˆ°çš„dependeceè£…é¥°å™¨ä½¿ç”¨ ã€‚å½“ä¸€ä¸ªä¾èµ–æ¥å£è¢«è°ƒç”¨åï¼Œä¼šå­˜å‚¨å®ƒå®Œæ•´çš„responseÂ·ï¼Œå¦‚æœåç»­æœ‰å…¶å®ƒæ¥å£ä¹Ÿä¾èµ–è¿™ä¸ªæ¥å£ï¼Œé‚£ä¹ˆè¯¥æ¥å£å°†ä¸ä¼šå†è¢«è°ƒç”¨ï¼Œè€Œæ˜¯ç›´æ¥ä»è¯¥æ¥å£å­˜å‚¨çš„responseä¸­å»è¯»å–éœ€è¦çš„ä¾èµ–å‚æ•°ã€‚æ•´ä¸ªæµ‹è¯•ä»»åŠ¡ç»“æŸåï¼Œä¼šè‡ªåŠ¨æ¸…ç†cacheè¡¨ã€‚ schemaï¼šå­˜å‚¨æ¥å£çš„jsonschemaä¿¡æ¯ï¼Œå½“ä¸€ä¸ªæ¥å£ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨åï¼Œä¼šè‡ªåŠ¨ä»å®ƒçš„responseä¸­è§£æå‡ºresponse.json()çš„jsonschemaï¼Œåœ¨ç”¨ä¾‹å±‚è¿›è¡Œæ–­è¨€æ—¶ï¼Œå¯ä»¥å¯¹æ­¤æ¬¡æ¥å£å“åº”çš„ç»“æ„ä½“ä¸schemaè¡¨ä¸­å­˜å‚¨çš„ç»“æ„ä½“è¿›è¡Œæ¯”è¾ƒï¼Œæ£€æµ‹æ˜¯å¦æœ‰å‚æ•°å˜åŠ¨ã€‚ï¼ˆåæ–‡ç»†è®²ï¼‰ ä¸‰å¼ è¡¨çš„ç»“æ„å…¶å®éƒ½éå¸¸ç®€å•ï¼Œå°±æ˜¯é”®å€¼å¯¹ï¼š åœ¨aomakerçš„baseapiä¸­ï¼Œåˆå§‹åŒ–äº†cacheå’Œconfigä¸¤å¼ è¡¨çš„è¿æ¥å¯¹è±¡ï¼Œå› ä¸ºæ‰€æœ‰æ¥å£éƒ½æ˜¯ç»§æ‰¿äºbaseapiçš„ï¼Œæ‰€ä»¥æ‰€æœ‰æ¥å£éƒ½å¯ä»¥é€šè¿‡self.configå’Œself.cacheæ¥æ‹¿åˆ°è¿æ¥å¯¹è±¡ï¼Œå½“æœ‰äº†è¿æ¥å¯¹è±¡å°±å¯ä»¥é€šè¿‡å°è£…å¥½çš„set()å’Œget()æ–¹æ³•æ¥å­˜å–å˜é‡äº†ã€‚ å¦å¤–ï¼Œä¸‰å¼ è¡¨çš„æ•°æ®è¯»å†™ï¼Œéƒ½æ˜¯åšäº†çº¿ç¨‹å®‰å…¨çš„ï¼Œåœ¨å¤šçº¿ç¨‹æ¨¡å¼ä¸‹ä¹Ÿèƒ½ä¿è¯æ•°æ®å®‰å…¨ã€‚"
  },"/jekyll/2019-01-29-aomaker%E7%BB%93%E6%9E%84.html": {
    "title": "ğŸ’aomakerç»“æ„",
    "keywords": "Jekyll",
    "url": "/jekyll/2019-01-29-aomaker%E7%BB%93%E6%9E%84.html",
    "body": "BaseAPIæä¾›APIçš„å…¬å…±æ“ä½œï¼Œä¸»è¦æ˜¯è¯·æ±‚å°è£…ï¼Œæä¾›ä¸€äº›è¯·æ±‚å…¥å‚ã€å‡ºå‚çš„æ‰“å°ä»¥åŠæ„é€ è¯·æ±‚ç»“æ„ä½“ã€‚BaseTestcaseæä¾›caseå±‚çš„æ–­è¨€æ“ä½œã€‚ è¯¥ä¸¤å±‚å·²å†…ç½®å°è£…åˆ°aomakerä¸­ï¼Œåªéœ€è¦å¯¼å…¥ç»§æ‰¿å³å¯ã€‚"
  }}
